:root{--color-primary: #ea580c;--color-accent: #f59e0b;--color-bg: #fffbeb;--color-surface: #ffffff;--color-border: #fdba74;--color-secondary: #65a30d;--color-danger: #dc2626;--color-text: #1f2937;--color-text-muted: #6b7280;--color-card-bg: #fff7ed;--shadow-sm: 0 1px 2px rgba(234, 88, 12, .08);--shadow-md: 0 4px 12px rgba(234, 88, 12, .12);--radius: 12px;--radius-btn: 10px}*{box-sizing:border-box}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,sans-serif;-webkit-font-smoothing:antialiased;background:var(--color-bg);color:var(--color-text);padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)}#root{min-height:100vh}input,select,textarea{font-size:16px}.page{max-width:420px;margin:0 auto;min-height:100vh;padding:max(20px,env(safe-area-inset-top)) max(16px,env(safe-area-inset-right)) max(32px,env(safe-area-inset-bottom)) max(16px,env(safe-area-inset-left));display:flex;flex-direction:column;align-items:center}.page-header{display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:24px;font-size:.95rem;font-weight:600;color:var(--color-text)}.page-header button{color:var(--color-primary);font-weight:600}.btn{display:block;width:100%;max-width:280px;padding:14px 24px;margin:10px 0;font-size:1rem;font-weight:600;border:none;border-radius:var(--radius-btn);cursor:pointer;background:var(--color-accent);color:#fff;box-shadow:var(--shadow-sm);transition:transform .1s,box-shadow .1s}.btn:hover:not(:disabled){transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-secondary{background:var(--color-secondary)}.btn-secondary:hover:not(:disabled){filter:brightness(1.05)}.btn-danger{background:var(--color-danger)}.btn-danger:hover:not(:disabled){filter:brightness(1.05)}.btn-block{display:grid;grid-template-columns:1fr 1fr;gap:10px;max-width:280px;width:100%}.card{border:2px solid var(--color-border);border-radius:var(--radius);padding:28px 24px;margin:20px 0;text-align:center;font-size:1.5rem;font-weight:600;background:var(--color-card-bg);color:var(--color-text);box-shadow:var(--shadow-sm)}.choices-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;max-width:280px;width:100%;margin:20px 0}.choice-btn{padding:18px;font-size:1.25rem;font-weight:600;border:2px solid var(--color-border);border-radius:var(--radius-btn);background:var(--color-surface);color:var(--color-text);cursor:pointer;transition:border-color .15s,background .15s,transform .1s}.choice-btn:hover{border-color:var(--color-accent);background:var(--color-bg);transform:scale(1.02)}.progress-bar{height:14px;background:#fed7aa;border-radius:7px;overflow:hidden;margin:6px 0}.progress-bar-fill{height:100%;background:linear-gradient(90deg,var(--color-accent),var(--color-primary));border-radius:7px;transition:width .25s ease-out}.text-muted{color:var(--color-text-muted);font-size:.9rem}.page-title{text-align:center;color:var(--color-primary);font-weight:700;margin:0 0 8px;font-size:1.25rem}.page-title-sub{text-align:center;color:var(--color-text);font-weight:600;margin:0 0 32px;font-size:1.1rem}.gacha-machine-wrap{position:relative;margin:16px 0 24px}.gacha-machine-wrap:before{content:"";position:absolute;top:-20px;right:-20px;bottom:-20px;left:-20px;border-radius:50%;background:radial-gradient(circle,rgba(234,88,12,.15) 0%,transparent 70%);opacity:0;pointer-events:none}.gacha-machine-wrap.gacha-machine-wrap--rolling:before{animation:gacha-aura .8s ease-in-out infinite alternate}@keyframes gacha-aura{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1.1)}}.gacha-machine{width:140px;height:140px;border-radius:50%;background:linear-gradient(145deg,#fef3c7,#fde68a 30%,#f59e0b);border:5px solid var(--color-accent);box-shadow:0 0 0 4px #f59e0b66,0 8px 32px #ea580c59,inset 0 2px 12px #ffffff80;display:flex;align-items:center;justify-content:center;font-size:3rem;transition:transform .3s,box-shadow .3s;position:relative;z-index:1}.gacha-machine--rolling{animation:gacha-spin .35s linear infinite,gacha-machine-glow .8s ease-in-out infinite alternate}@keyframes gacha-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes gacha-machine-glow{0%{box-shadow:0 0 0 4px #f59e0b66,0 8px 32px #ea580c59,inset 0 2px 12px #ffffff80}to{box-shadow:0 0 24px 8px #f59e0b80,0 12px 40px #ea580c80,inset 0 2px 12px #fff9}}.gacha-ball-result{margin-top:24px;padding:28px 24px;border-radius:var(--radius);text-align:center;font-weight:700;animation:gacha-ball-pop .7s cubic-bezier(.34,1.56,.64,1);border:4px solid;box-shadow:0 8px 32px #0003}@keyframes gacha-ball-pop{0%{transform:scale(.2) translateY(20px);opacity:0}50%{transform:scale(1.12) translateY(-4px)}70%{transform:scale(.96) translateY(2px)}to{transform:scale(1) translateY(0);opacity:1}}.gacha-ball-result--normal{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border-color:#9ca3af;color:#374151}.gacha-ball-result--rare{background:linear-gradient(135deg,#dbeafe,#93c5fd);border-color:#3b82f6;color:#1e40af;box-shadow:0 4px 24px #3b82f666}.gacha-ball-result--superRare{background:linear-gradient(135deg,#e9d5ff,#c4b5fd);border-color:#8b5cf6;color:#5b21b6;box-shadow:0 4px 24px #8b5cf666}.gacha-ball-result--ultraRare{background:linear-gradient(135deg,#fef3c7,#fde68a);border-color:#f59e0b;color:#b45309;box-shadow:0 4px 24px #f59e0b80}.gacha-ball-result--legend{background:linear-gradient(135deg,#fef9c3,#fde047);border-color:#eab308;color:#a16207;box-shadow:0 4px 28px #eab30899;animation:gacha-ball-pop .5s ease-out,gacha-legend-glow 1.5s ease-in-out .5s infinite alternate}@keyframes gacha-legend-glow{0%{filter:brightness(1);box-shadow:0 4px 28px #eab30899}to{filter:brightness(1.15);box-shadow:0 6px 32px #eab308cc}}.gacha-ball-label{font-size:1rem;margin:0 0 4px;opacity:.9}.gacha-ball-name{font-size:1.35rem;margin:0 0 4px}.gacha-ball-level{font-size:1.1rem;margin:0;opacity:.95}.result-perfect-celebration{margin-bottom:24px;padding:28px 20px;border-radius:var(--radius);text-align:center;background:linear-gradient(135deg,#fef3c7,#fde68a 40%,#fcd34d);border:3px solid var(--color-accent);box-shadow:0 0 0 6px #f59e0b40,0 8px 32px #ea580c4d;animation:result-perfect-pop .6s cubic-bezier(.34,1.56,.64,1),result-perfect-glow 2s ease-in-out .6s infinite alternate}@keyframes result-perfect-pop{0%{transform:scale(.85);opacity:0}60%{transform:scale(1.05)}to{transform:scale(1);opacity:1}}@keyframes result-perfect-glow{0%{box-shadow:0 0 0 6px #f59e0b40,0 8px 32px #ea580c4d}to{box-shadow:0 0 0 10px #f59e0b59,0 12px 40px #ea580c66}}.result-perfect-badge{display:inline-block;font-size:1rem;font-weight:800;letter-spacing:.1em;color:var(--color-primary);margin-bottom:8px;padding:4px 12px;background:#fffc;border-radius:20px;animation:result-badge-shine 1.5s ease-in-out infinite}@keyframes result-badge-shine{0%,to{filter:brightness(1)}50%{filter:brightness(1.2)}}.result-perfect-message{font-size:1.5rem;font-weight:700;color:var(--color-text);margin:0}.choice-btn--correct{border-color:var(--color-secondary)!important;background:linear-gradient(135deg,#dcfce7,#bbf7d0)!important;color:#166534;pointer-events:none}.choice-btn--incorrect{border-color:var(--color-danger)!important;background:linear-gradient(135deg,#fee2e2,#fecaca)!important;color:#991b1b;pointer-events:none}
